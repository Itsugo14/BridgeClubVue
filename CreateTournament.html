<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>Opret Turnering</title>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">Dansk Bridgeforbund</a>
            <div class="collapse navbar-collapse">
                <ul class="navbar-nav mr-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="Index.html">Forside</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="GetAll.html">Medlemsliste</a>
                    </li>
                </ul>
                <ul class="navbar-nav ml-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link" href="CreateUser.html">Opret Bruger</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="Login.html">Login</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <div class="container py-5">
        <h1 class="mb-4 text-center">Opret Turnering</h1>
        <div id="app">
            <form @submit.prevent="createTournament" class="mx-auto" style="max-width: 500px;">
                <div class="form-group mb-3">
                    <label for="TournamentName">Navn</label>
                    <input type="text" id="TournamentName" v-model="TournamentName" class="form-control" required>
                </div>
                <div class="form-group mb-3">
                    <label for="TournamentDescription">Beskrivelse</label>
                    <textarea id="TournamentDescription" v-model="TournamentDescription" class="form-control"></textarea>
                </div>
                <div class="form-group mb-3">
                    <label for="Location">Lokation</label>
                    <input type="text" id="Location" v-model="Location" class="form-control" required>
                </div>
                <div class="form-group mb-3">
                    <label for="TournamentFormat">Format</label>
                    <select id="TournamentFormat" v-model="TournamentFormat" class="form-control" required>
                        <option value="">VÃ¦lg format</option>
                        <option value="Pairs">Par</option>
                        <option value="Teams">Hold</option>
                    </select>
                </div>
                <div class="form-group mb-3">
                    <label for="TournamentDate">Dato</label>
                    <input type="date" id="TournamentDate" v-model="TournamentDate" class="form-control" required>
                </div>
                <button type="submit" class="btn btn-success w-100">Opret turnering</button>
                <p v-if="message" class="mt-3 text-center">{{ message }}</p>
            </form>
        </div>
    </div>
    <footer class="footer mt-auto py-3 bg-light">
        <div class="container text-center">
            <span class="text-muted">&copy; 2025 Dansk Bridgeforbund. Alle rettigheder forbeholdes.</span>
        </div>
    </footer>
    <script>
        // Opdater denne URL til din turnerings-API endpoint
        const tournamentUrl = "https://bridgeclubapi-bvhue4gpaahmdjbs.northeurope-01.azurewebsites.net/api/ClubTournamentsDb";
        Vue.createApp({
            data() {
                return {
                    TournamentName: "",
                    TournamentDescription: "",
                    Location: "",
                    TournamentFormat: "",
                    TournamentDate: "",
                    message: ""
                }
            },
            methods: {
                async createTournament() {
                    try {
                        const payload = {
                            TournamentName: this.TournamentName,
                            TournamentDescription: this.TournamentDescription,
                            Location: this.Location,
                            FormatName: this.TournamentFormat,
                            DayList: this.TournamentDate
                        };
                        // const response = await axios.post(tournamentUrl, payload);
                        // this.message = `Turnering oprettet! (${response.status} ${response.statusText})`;
                        this.message = `Turnering oprettet! (mock)`;
                    } catch (ex) {
                        this.message = ex.message;
                    }
                }
            }
        }).mount("#app");
    </script>
</body>
</html>
